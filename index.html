<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<title>Softscissors by gugugupan</title>
		<link rel="stylesheet" href="stylesheets/styles.css">
		<link rel="stylesheet" href="stylesheets/pygment_trac.css">
		<script src="javascripts/jquery-1.7.1.min.js"></script>
		<script src="javascripts/main.js"></script>
		<script src="javascripts/sscissor-0.0.2.min.js"></script>
		<script src="javascripts/jquery-1.11.0.min.js"></script>
		<!--[if lt IE 9]>
			<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<style type="text/css">
			#canvasContainer {
				width: 580px;
				height: 400px;
				border: 5px solid #777;
				margin-bottom: 20px;
				display: block;
				background-image: url( "images/alpha.png" );
			}
		</style>
		<script type="text/javascript">
			var scissor = null ;
			var oFReader = new FileReader() ;
			var rFilter = /^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;


			function startMatting() {
				$( "#imageLoading" ).trigger( "click" ) ;
			}

			function loadingImage() {
				var file = document.getElementById("imageLoading").files[0];
				if ( !rFilter.test( file.type ) ) { alert("You must select a valid image file!"); return; }
				oFReader.readAsDataURL( file ) ;
			}

			function finishMatting() {
				scissor.finish() ;
			}

			oFReader.onload = function ( evt ) {
				scissor = new Scissor( "matteImage" ) ;
				scissor.start( evt.target.result ) ;
			};
		</script>
	</head>
	<body>
		<header>
			<h1>Softscissors</h1>
			<p>Javascript library for image matting. <a href="https://github.com/gugugupan/SoftScissors" style="color:#aaa;">View On GitHub</a></p>
		</header>
		<div class="wrapper">
			<nav>
				<ul>
					<li><a href="#mattingDemo">Demo</a></li>
					<li><a href="#mattingUsage">Usage</a></li>
					<li><a href="#paperReference">Reference</a></li>
				</ul>
			</nav>
			<section>
				<h3 id="mattingDemo">SoftScissor Demo</h3>
				<p>Demo works on this step:</p>
				<ol>
					<li>Press <code><a href=javascript:startMatting()>START BUTTON</a></code> to loading an image;</li>
					<li>Move your mouse into matting image;</li>
					<li>Press and hold your mouse on object boudary and clockwise drag your mouse;</li>
					<li>Press <code><a href=javascript:finishMatting()>FINISH BUTTON</a></code> to show your matting result.</li>
				</ol>
				<input id="imageLoading" type="file" style="display:none" onchange="loadingImage()"/>
				<div id="canvasContainer">
					<canvas id="matteImage" width=580 height=400></canvas>
				</div>
				<p><strong>This demo may cause your browser crash!</strong></p>

				<h3 id="mattingUsage">Usage</h3>
				<ol>
					<li>Download code <a href="https://github.com/gugugupan/SoftScissors">on GitHub</a>;</li>
					<li>Include Javascrpt file <code>sscissor-0.0.2.js</code> or <code>sscissor-0.0.2.min.js</code>. E.g. put this code before <code>&lt;\head&gt;</code> label.
						<pre><code>&lt;script src="javascripts/sscissor-0.0.2.min.js"&gt;&lt;/script&gt;</code></pre>
					</li>
					<li>Initialize Scissor Object by
						<pre><code>var scissor = new Scissor( "matteCanvasName" );</code></pre>
					</li>
					<li>Start and finish matting with
						<pre><code>scissor.start( matteImageURL ); // Start matting process with image url

scissor.finish(); // Finish matting and clear background
</code></pre>
					</li>
				</ol>

				<h3 id="paperReference">Reference</h3>
				<p>Matting system reference on:</p>
				<p>[1] <i>Jue Wang, Maneesh Agrawala. Soft Scissors : An Interactive Tool for Realtime High Quality Matting</i></p>
				<p>Matting algorithm reference on:</p>
				<p>[2] <i>Jue Wang, Michael F. Cohen. Optimized Color Sampling for Robust Matting</i></p>
			</section>
			<footer>
				<p>Project maintained by <a href="https://github.com/gugugupan">gugugupan</a></p>
				<p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></small></p>
			</footer>
		</div>
		<!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
	</body>
</html>
